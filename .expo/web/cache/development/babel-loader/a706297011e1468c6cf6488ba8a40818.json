{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { UserContext } from \"../context/UserContext\";\nimport URL from \"../utils/URL\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar backendUrl = URL;\nvar cssColors = {\n  na: \"rgb(255, 255, 153)\",\n  off: \"\",\n  am: \"rgb(153, 204, 255)\",\n  mid: \"rgb(255, 153, 153)\",\n  pm: \"rgb(255, 204, 153)\",\n  cp: \"rgb(153, 255, 255)\"\n};\nvar planningOptions = [\"am\", \"mid\", \"pm\", \"off\", \"cp\"];\nvar weekList = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\nvar monthList = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"Decemnber\"];\n\nvar PlanningScreen = function PlanningScreen(_ref) {\n  var any = _ref.navigation;\n\n  var _useContext = useContext(UserContext),\n      userContext = _useContext.userContext,\n      setUserContext = _useContext.setUserContext;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var team = userContext.team;\n  var PageElements;\n\n  (function (PageElements) {\n    PageElements[PageElements[\"planning\"] = 0] = \"planning\";\n    PageElements[PageElements[\"userProfile\"] = 1] = \"userProfile\";\n  })(PageElements || (PageElements = {}));\n\n  var _useState3 = useState(PageElements.planning),\n      _useState4 = _slicedToArray(_useState3, 2),\n      currentElement = _useState4[0],\n      setCurrentElement = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      changePasswordPage = _useState6[0],\n      setChangePasswordPage = _useState6[1];\n\n  var _useState7 = useState({\n    x: null,\n    y: null\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      popUpPosition = _useState8[0],\n      setPopUpPosition = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      showPopUp = _useState10[0],\n      setShowPopUp = _useState10[1];\n\n  var _useState11 = useState(\"nobodyyy\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentRequestor = _useState12[0],\n      setCurrentRequestor = _useState12[1];\n\n  var _useState13 = useState(\"noDayYet\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      currentIndexDay = _useState14[0],\n      setCurrentIndexDay = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      monthState = _useState16[0],\n      setMonthState = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      passwordErrorMessage = _useState18[0],\n      setPasswordErrorMessage = _useState18[1];\n\n  var _useState19 = useState({\n    password: \"\",\n    passwordConfirm: \"\",\n    passwordCurrent: \"\"\n  }),\n      _useState20 = _slicedToArray(_useState19, 2),\n      newPasswordValues = _useState20[0],\n      setNewPasswordValue = _useState20[1];\n\n  function usersReload() {\n    var result, filteredResults, names, workingMonth;\n    return _regeneratorRuntime.async(function usersReload$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(axios.get(backendUrl + \"/api/v1/users/getAllUsers/\" + team));\n\n          case 2:\n            result = _context.sent;\n            filteredResults = result.data.data;\n            names = [];\n            filteredResults.forEach(function (el) {\n              return names.push({\n                firstName: el.firstName,\n                lastName: el.lastName\n              });\n            });\n            setUsers(names);\n            setDb(filteredResults);\n            workingMonth = monthList[new Date().getMonth()];\n            setMonthState(workingMonth);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var now = new Date();\n\n  function daysInThisMonth() {\n    return new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();\n  }\n\n  var daysInCurrentMonth = daysInThisMonth();\n  var currentYear = new Date().getFullYear();\n  var currentMonth = new Date().getMonth() + 1;\n  if (currentMonth < 10) currentMonth = \"0\" + currentMonth;else currentMonth = \"\" + currentMonth;\n  var monthDaysArray = [];\n\n  for (var i = 1; i <= daysInCurrentMonth; i++) {\n    monthDaysArray.push(i);\n  }\n\n  var monthIndexDayArray = [];\n\n  for (var _i = 1; _i <= daysInCurrentMonth; _i++) {\n    var newI;\n\n    if (_i < 10) {\n      newI = \"0\" + _i;\n    } else {\n      newI = \"\" + _i;\n    }\n\n    monthIndexDayArray.push(currentYear + \"-\" + currentMonth + \"-\" + newI);\n  }\n\n  var isWeekEnd = [];\n\n  for (var _i2 = 1; _i2 <= daysInCurrentMonth; _i2++) {\n    var day = new Date(now.getFullYear(), now.getMonth(), _i2).getDay();\n    day === 6 || day === 0 ? isWeekEnd.push(\"rgb(75, 219, 130)\") : isWeekEnd.push(0);\n  }\n\n  console.log(isWeekEnd);\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      users = _useState22[0],\n      setUsers = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      db = _useState24[0],\n      setDb = _useState24[1];\n\n  useEffect(function () {\n    generateMonth();\n  }, []);\n\n  var setToken = function setToken(value) {\n    return _regeneratorRuntime.async(function setToken$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', value));\n\n          case 3:\n            _context2.next = 8;\n            break;\n\n          case 5:\n            _context2.prev = 5;\n            _context2.t0 = _context2[\"catch\"](0);\n            console.log(_context2.t0.message);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var getToken = function getToken(value) {\n    var returnValue;\n    return _regeneratorRuntime.async(function getToken$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(value));\n\n          case 3:\n            returnValue = _context3.sent;\n            return _context3.abrupt(\"return\", returnValue);\n\n          case 7:\n            _context3.prev = 7;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(\"error when returning getToken, message : \", _context3.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  function logout() {\n    return _regeneratorRuntime.async(function logout$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.next = 2;\n            return _regeneratorRuntime.awrap(setToken('logOut'));\n\n          case 2:\n            setUserContext({\n              loggedIn: false,\n              isAdmin: false,\n              firstName: \"\",\n              lastName: \"\",\n              email: \"\",\n              team: \"\",\n              id: \"\"\n            });\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function generateMonth() {\n    var date, team, month, year, token, localToken, headers, response;\n    return _regeneratorRuntime.async(function generateMonth$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            date = new Date();\n            team = userContext.team;\n            month = date.getMonth();\n            year = date.getFullYear();\n            token = \"Bearer \";\n            _context5.prev = 5;\n            _context5.next = 8;\n            return _regeneratorRuntime.awrap(getToken('token'));\n\n          case 8:\n            localToken = _context5.sent;\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context5.next = 13;\n            return _regeneratorRuntime.awrap(axios.post(backendUrl + \"/api/v1/users/generateMonth\", {\n              team: team,\n              month: month,\n              year: year\n            }, {\n              headers: headers\n            }));\n\n          case 13:\n            response = _context5.sent;\n\n            if (response.status === 200) {\n                usersReload();\n              }\n\n            _context5.next = 20;\n            break;\n\n          case 17:\n            _context5.prev = 17;\n            _context5.t0 = _context5[\"catch\"](5);\n            console.log(_context5.t0.message);\n\n          case 20:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, [[5, 17]], Promise);\n  }\n\n  function setNewShift(option, currentRequestor, currentIndexDay) {\n    var token, localToken, headers, response;\n    return _regeneratorRuntime.async(function setNewShift$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            token = \"Bearer \";\n            _context6.prev = 1;\n            localToken = getToken('token');\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context6.next = 7;\n            return _regeneratorRuntime.awrap(axios.post(backendUrl + \"/api/v1/users/requestChangeShift\", {\n              requestor: currentRequestor,\n              newShift: option,\n              indexDay: currentIndexDay\n            }, {\n              headers: headers\n            }));\n\n          case 7:\n            response = _context6.sent;\n\n            if (response.status === 200) {\n              usersReload();\n            }\n\n            _context6.next = 14;\n            break;\n\n          case 11:\n            _context6.prev = 11;\n            _context6.t0 = _context6[\"catch\"](1);\n            console.log(_context6.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  }\n\n  function changePassword(passwordCurrent, password, passwordConfirm) {\n    var token, localToken, headers, response;\n    return _regeneratorRuntime.async(function changePassword$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(password !== passwordConfirm)) {\n              _context7.next = 3;\n              break;\n            }\n\n            setPasswordErrorMessage(\"Password and confirm don't match moron !\");\n            return _context7.abrupt(\"return\");\n\n          case 3:\n            if (!(password === passwordCurrent)) {\n              _context7.next = 6;\n              break;\n            }\n\n            setPasswordErrorMessage(\"Can't change for the same password stupid !\");\n            return _context7.abrupt(\"return\");\n\n          case 6:\n            token = \"Bearer \";\n            _context7.prev = 7;\n            localToken = getToken('token');\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context7.next = 13;\n            return _regeneratorRuntime.awrap(axios.put(backendUrl + \"/api/v1/users/changePassword\", {\n              passwordCurrent: newPasswordValues.passwordCurrent,\n              password: newPasswordValues.password,\n              passwordConfirm: newPasswordValues.passwordConfirm,\n              email: userContext.email\n            }));\n\n          case 13:\n            response = _context7.sent;\n\n            if (response.status === 200) {\n              setPasswordErrorMessage(\"Password Changed\");\n              setTimeout(function () {\n                setPasswordErrorMessage(\"\");\n              }, 500);\n            } else {\n              setPasswordErrorMessage(\"Something's wrong...\");\n            }\n\n            _context7.next = 20;\n            break;\n\n          case 17:\n            _context7.prev = 17;\n            _context7.t0 = _context7[\"catch\"](7);\n            console.log(_context7.t0.message);\n\n          case 20:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, [[7, 17]], Promise);\n  }\n\n  return _jsx(SafeAreaView, {\n    style: styles.globalContainer,\n    children: isLoading === true ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"rgb(235, 232, 231)\",\n      style: {\n        paddingTop: 150\n      }\n    }) : _jsxs(View, {\n      style: {\n        flex: 1\n      },\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsx(Text, {\n          style: {\n            alignSelf: \"flex-end\"\n          },\n          children: \"Profile\"\n        })\n      }), _jsx(Text, {\n        children: monthState\n      }), _jsxs(View, {\n        style: {\n          overflow: \"scroll\",\n          flexDirection: \"row\"\n        },\n        children: [_jsxs(View, {\n          children: [_jsx(Text, {\n            children: \"User\"\n          }), users.map(function (el, idx) {\n            return _jsxs(Text, {\n              children: [el.firstName, \" \", el.lastName.slice(0, 1)]\n            });\n          })]\n        }), _jsx(View, {\n          style: {\n            flexDirection: \"row\"\n          },\n          children: monthIndexDayArray.map(function (day, idx) {\n            return _jsx(View, {\n              children: _jsx(Text, {\n                style: {\n                  backgroundColor: isWeekEnd[idx]\n                },\n                children: day.substring(8, 10)\n              })\n            });\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default PlanningScreen;\nvar styles = StyleSheet.create({\n  globalContainer: {\n    flex: 1,\n    backgroundColor: \"rgb(110, 116, 170)\"\n  },\n  header: {\n    display: \"flex\",\n    height: 65,\n    backgroundColor: \"rgb(235, 232, 231)\",\n    justifyContent: \"center\"\n  },\n  headerTitle: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    color: \"rgb(110, 116, 170)\",\n    alignSelf: \"center\"\n  },\n  headerSubtitle: {\n    fontSize: 17,\n    fontWeight: \"bold\",\n    color: \"rgb(235, 232, 231)\",\n    marginBottom: 10,\n    alignSelf: \"center\"\n  },\n  headerImage: {\n    flex: 1,\n    resizeMode: \"center\",\n    justifyContent: 'center',\n    opacity: 0.7\n  },\n  inputsContainer: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    marginTop: 50,\n    marginBottom: 50\n  },\n  viewHolder: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  preTextInput: {\n    fontSize: 17,\n    paddingLeft: 20,\n    alignSelf: \"flex-start\"\n  },\n  button: {\n    backgroundColor: \"rgb(238, 247, 255)\",\n    width: 150,\n    height: 45,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 10,\n    marginTop: 10\n  },\n  buttonText: {\n    fontSize: 20\n  },\n  textInput: {\n    display: \"flex\",\n    backgroundColor: \"white\",\n    width: \"95%\",\n    marginTop: 5,\n    borderRadius: 5,\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/mr b/Desktop/planning-react-native/screens/PlanningScreen.tsx"],"names":["React","useState","useContext","useEffect","SafeAreaView","axios","AsyncStorage","UserContext","URL","backendUrl","cssColors","na","off","am","mid","pm","cp","planningOptions","weekList","monthList","PlanningScreen","any","navigation","userContext","setUserContext","isLoading","setIsLoading","team","PageElements","planning","currentElement","setCurrentElement","changePasswordPage","setChangePasswordPage","x","y","popUpPosition","setPopUpPosition","showPopUp","setShowPopUp","currentRequestor","setCurrentRequestor","currentIndexDay","setCurrentIndexDay","monthState","setMonthState","passwordErrorMessage","setPasswordErrorMessage","password","passwordConfirm","passwordCurrent","newPasswordValues","setNewPasswordValue","usersReload","get","result","filteredResults","data","names","forEach","el","push","firstName","lastName","setUsers","setDb","workingMonth","Date","getMonth","now","daysInThisMonth","getFullYear","getDate","daysInCurrentMonth","currentYear","currentMonth","monthDaysArray","i","monthIndexDayArray","newI","isWeekEnd","day","getDay","console","log","users","db","generateMonth","setToken","value","setItem","message","getToken","getItem","returnValue","logout","loggedIn","isAdmin","email","id","date","month","year","token","localToken","headers","post","response","status","setNewShift","option","requestor","newShift","indexDay","changePassword","put","setTimeout","styles","globalContainer","paddingTop","flex","header","alignSelf","overflow","flexDirection","map","idx","slice","backgroundColor","substring","StyleSheet","create","display","height","justifyContent","headerTitle","fontSize","fontWeight","color","headerSubtitle","marginBottom","headerImage","resizeMode","opacity","inputsContainer","marginTop","viewHolder","alignItems","preTextInput","paddingLeft","button","width","borderRadius","buttonText","textInput"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport { StyleSheet, Text, View, TextInput, Button, Pressable, ImageBackground, ActivityIndicator  } from 'react-native';\r\nimport { CardStyleInterpolators } from 'react-navigation-stack';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { NavigationContext } from 'react-navigation';\r\nimport axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nimport URL from '../utils/URL';\r\n\r\nconst backendUrl:string = URL;\r\n\r\nconst cssColors = {\r\n    na: \"rgb(255, 255, 153)\",\r\n    off: \"\",\r\n    am: \"rgb(153, 204, 255)\",\r\n    mid: \"rgb(255, 153, 153)\",\r\n    pm: \"rgb(255, 204, 153)\",\r\n    cp: \"rgb(153, 255, 255)\"\r\n}\r\n\r\nconst planningOptions: string[] = [\"am\", \"mid\", \"pm\", \"off\", \"cp\"];\r\nconst weekList: string[] = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\r\nconst monthList: string[] = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"Decemnber\"];\r\n\r\n\r\nconst PlanningScreen = ({ navigation:any }) => {\r\n\r\n    const { userContext, setUserContext } = useContext(UserContext);\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n\r\n    // If the user comes here without being logged in...get him tf out ! =)\r\n\r\n    // if (userContext.loggedIn === false)\r\n    //     navigation.navigate('Home');\r\n\r\n    const team = userContext.team;\r\n\r\n    // Different Elements to show user\r\n\r\n    enum PageElements {\r\n        planning,\r\n        userProfile\r\n    }\r\n\r\n    const [currentElement, setCurrentElement] = useState(PageElements.planning);\r\n    const [changePasswordPage, setChangePasswordPage] = useState(false);\r\n    const [popUpPosition, setPopUpPosition] = useState({x:null, y:null});\r\n    const [showPopUp, setShowPopUp] = useState(false);\r\n    const [currentRequestor, setCurrentRequestor] = useState(\"nobodyyy\");\r\n    const [currentIndexDay, setCurrentIndexDay] = useState(\"noDayYet\");\r\n    const [monthState, setMonthState] = useState(\"\");\r\n    const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\r\n    const [newPasswordValues, setNewPasswordValue] = useState({\r\n        password: \"\",\r\n        passwordConfirm: \"\",\r\n        passwordCurrent: \"\"\r\n    })\r\n\r\n    // Refreshthe page, just like in useEffect\r\n    async function usersReload() {\r\n        const result = await axios.get(`${backendUrl}/api/v1/users/getAllUsers/` + team);\r\n        const filteredResults = result.data.data;\r\n        const names:any = [];\r\n        filteredResults.forEach(el => names.push({firstName: el.firstName, lastName: el.lastName}))\r\n        setUsers(names);\r\n        setDb(filteredResults);\r\n        let workingMonth = (monthList[new Date().getMonth()])\r\n        setMonthState(workingMonth);\r\n    }\r\n\r\n    \r\n\r\n\r\n    // Calendar Logic --------------------------------\r\n    var now = new Date();\r\n\r\n    function daysInThisMonth() {\r\n        \r\n        return new Date(now.getFullYear(), now.getMonth()+1, 0).getDate();\r\n      }\r\n\r\n    const daysInCurrentMonth = daysInThisMonth();\r\n    const currentYear = new Date().getFullYear();\r\n    let currentMonth = new Date().getMonth()+1;\r\n    if (currentMonth < 10)\r\n      currentMonth = `0${currentMonth}`;\r\n    else\r\n      currentMonth = `${currentMonth}`;\r\n    let monthDaysArray = [];\r\n    for (let i=1; i<=daysInCurrentMonth; i++) {\r\n        monthDaysArray.push(i);\r\n    }\r\n    let monthIndexDayArray = [];\r\n    for (let i=1; i<=daysInCurrentMonth; i++) {\r\n        var newI;\r\n        if (i < 10) {\r\n            newI = `0${i}`;\r\n        }\r\n        else\r\n        {\r\n            newI = `${i}`;\r\n        }\r\n        \r\n        monthIndexDayArray.push(`${currentYear}-${currentMonth}-${newI}`);\r\n    }\r\n\r\n    let isWeekEnd = [];\r\n    for (let i=1; i<=daysInCurrentMonth; i++)\r\n    {\r\n        let day = new Date(now.getFullYear(), now.getMonth(), i).getDay();\r\n        day === 6 || day === 0 ? isWeekEnd.push(\"rgb(75, 219, 130)\") : isWeekEnd.push(0);\r\n    }\r\n\r\n    console.log(isWeekEnd);\r\n\r\n\r\n    const [users, setUsers] = useState([]);\r\n    const [db, setDb] = useState([]);\r\n\r\n    useEffect(() => {\r\n        generateMonth();\r\n    }, [])\r\n\r\n    // End of calendar logic ----------------------------------------\r\n\r\n\r\n    // Logout function\r\n\r\n    const setToken = async (value) => {\r\n        try {\r\n          await AsyncStorage.setItem('token', value)\r\n        } catch (e) {\r\n          console.log(e.message);\r\n        }\r\n    }\r\n\r\n    const getToken = async (value) => {\r\n        try {\r\n            const returnValue = await AsyncStorage.getItem(value);\r\n            return returnValue;\r\n        } catch (e) {\r\n            console.log(\"error when returning getToken, message : \", e.message);\r\n        }\r\n    }\r\n\r\n    async function logout() {\r\n        await setToken('logOut');\r\n\r\n        setUserContext({\r\n            loggedIn: false,\r\n            isAdmin: false,\r\n            firstName: \"\",\r\n            lastName: \"\",\r\n            email: \"\",\r\n            team: \"\", \r\n            id: \"\"\r\n        });\r\n    }\r\n\r\n    // Generate month\r\n    async function generateMonth() {\r\n        let date = new Date();\r\n        let team = userContext.team;\r\n        let month = date.getMonth()\r\n        let year = date.getFullYear();\r\n        let token = \"Bearer \";\r\n\r\n        try {\r\n            let localToken = await getToken('token');\r\n            token += localToken;\r\n            const headers = {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n              }\r\n\r\n            const response = await axios.post(`${backendUrl}/api/v1/users/generateMonth`, {\r\n                team,\r\n                month,\r\n                year\r\n            }, { headers: headers });\r\n\r\n            if (response.status === 200) //\r\n            {\r\n                \r\n        \r\n                usersReload();\r\n            }\r\n                \r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    async function setNewShift(option: String, currentRequestor: String, currentIndexDay: String) {\r\n        let token = \"Bearer \";\r\n        try {\r\n            let localToken = getToken('token');\r\n            token += localToken;\r\n            const headers = {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n              }\r\n\r\n            const response = await axios.post(`${backendUrl}/api/v1/users/requestChangeShift`, {\r\n                requestor: currentRequestor,\r\n                newShift: option,\r\n                indexDay: currentIndexDay\r\n            }, { headers: headers });\r\n\r\n            if (response.status === 200)\r\n            {\r\n                usersReload();\r\n            }\r\n                \r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }\r\n\r\n    async function changePassword(passwordCurrent: string, password: string, passwordConfirm: string)\r\n    {\r\n        if (password !== passwordConfirm)\r\n        {\r\n            setPasswordErrorMessage(\"Password and confirm don't match moron !\");\r\n            return;\r\n        }\r\n\r\n        if (password === passwordCurrent)\r\n        {\r\n            setPasswordErrorMessage(\"Can't change for the same password stupid !\");\r\n            return;\r\n        }\r\n\r\n        let token = \"Bearer \";\r\n        try {\r\n            let localToken = getToken('token');\r\n            token += localToken;\r\n            const headers = {\r\n                'Content-Type': 'application/json',\r\n                'Authorization': token\r\n              }\r\n\r\n            const response = await axios.put(`${backendUrl}/api/v1/users/changePassword`, {\r\n                passwordCurrent: newPasswordValues.passwordCurrent,\r\n                password: newPasswordValues.password,\r\n                passwordConfirm: newPasswordValues.passwordConfirm,\r\n                email: userContext.email\r\n            });\r\n\r\n            if (response.status === 200)\r\n            {\r\n                setPasswordErrorMessage(\"Password Changed\");\r\n                setTimeout(() => {\r\n                    setPasswordErrorMessage(\"\");\r\n                }, 500);\r\n            }\r\n\r\n            else {\r\n                setPasswordErrorMessage(\"Something's wrong...\");\r\n            }\r\n                \r\n        } catch (e) {\r\n            console.log(e.message)\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        \r\n        \r\n        <SafeAreaView style={styles.globalContainer}>\r\n\r\n        {\r\n            (isLoading===true) ? <ActivityIndicator size=\"large\" color=\"rgb(235, 232, 231)\" style={{paddingTop: 150}}/> : \r\n              \r\n            <View style={{flex:1}}>\r\n                {/* Header */}\r\n                <View style={styles.header}>\r\n                    <Text style={{alignSelf: \"flex-end\"}}>Profile</Text>\r\n                </View>\r\n\r\n                <Text>{monthState}</Text>\r\n\r\n                {/* Main Planning Box */}\r\n                <View style={{overflow: \"scroll\", flexDirection:\"row\"}}>\r\n                    <View>\r\n                        <Text>User</Text>\r\n                        {\r\n                            users.map((el, idx) => {\r\n                                // Returning users list for the given team\r\n                                return(<Text>{el.firstName} {el.lastName.slice(0, 1)}</Text>)\r\n                            })\r\n                        }\r\n                    </View>\r\n                    <View style={{flexDirection: \"row\"}}>\r\n                    {\r\n                        monthIndexDayArray.map((day, idx) => {\r\n                            return (\r\n                            // Planning Box\r\n                                <View>\r\n                                    <Text style={{backgroundColor: isWeekEnd[idx]}}>{day.substring(8, 10)}</Text>\r\n                                </View>)\r\n                        })\r\n                    }\r\n                    </View>\r\n                </View>\r\n            </View>\r\n\r\n        }\r\n            \r\n        </SafeAreaView>\r\n    )\r\n}\r\n\r\nexport default PlanningScreen\r\n\r\nconst styles = StyleSheet.create({\r\n    globalContainer: {\r\n        flex: 1,\r\n        backgroundColor: \"rgb(110, 116, 170)\",\r\n    },\r\n    header: {\r\n        display: \"flex\",\r\n        height: 65,\r\n        backgroundColor: \"rgb(235, 232, 231)\",\r\n        justifyContent: \"center\"\r\n    },\r\n    headerTitle: {\r\n        fontSize: 30,\r\n        fontWeight: \"bold\",\r\n        color: \"rgb(110, 116, 170)\",\r\n        // marginTop: 50,\r\n        // marginBottom: 15,\r\n        alignSelf: \"center\"\r\n    },\r\n    headerSubtitle: {\r\n        fontSize: 17,\r\n        fontWeight: \"bold\",\r\n        color: \"rgb(235, 232, 231)\",\r\n        marginBottom: 10,\r\n        alignSelf: \"center\"\r\n\r\n    },\r\n    headerImage: {\r\n        flex: 1,\r\n        resizeMode: \"center\",\r\n        justifyContent: 'center',\r\n        opacity: 0.7\r\n    },\r\n    inputsContainer: {\r\n        flex: 1,\r\n        justifyContent: \"space-between\",\r\n        marginTop: 50,\r\n        marginBottom: 50,\r\n    },\r\n    viewHolder: {\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    },\r\n    preTextInput: {\r\n        fontSize: 17,\r\n        paddingLeft: 20,\r\n        alignSelf: \"flex-start\",\r\n    },\r\n    button: {\r\n        backgroundColor: \"rgb(238, 247, 255)\",\r\n        width: 150,\r\n        height: 45,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        borderRadius: 10,\r\n        marginTop: 10,\r\n    },\r\n    buttonText: {\r\n        fontSize: 20\r\n    },\r\n    textInput: {\r\n        display: \"flex\",\r\n        backgroundColor: \"white\",\r\n        width: \"95%\",\r\n        marginTop: 5,\r\n        borderRadius: 5,\r\n        fontSize: 20\r\n    }\r\n})\r\n"]},"metadata":{},"sourceType":"module"}