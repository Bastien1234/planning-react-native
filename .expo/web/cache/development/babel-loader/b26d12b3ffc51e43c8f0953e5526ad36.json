{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport { Picker } from '@react-native-picker/picker';\nimport axios from 'axios';\nimport { UserContext } from \"../context/UserContext\";\nimport URL from \"../utils/URL\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar AddUser = React.memo(function (_ref) {\n  var setTeamMembers = _ref.setTeamMembers,\n      addUserToggle = _ref.addUserToggle,\n      setAddUserToggle = _ref.setAddUserToggle;\n\n  var _useContext = useContext(UserContext),\n      userContext = _useContext.userContext,\n      setUserContext = _useContext.setUserContext;\n\n  console.log('render add user');\n  var serverURL = URL + \"/api/v1/users/signup\";\n  var usersUrl = URL + \"/api/v1/users/getAllUsers/\";\n  var team = userContext.team;\n  var getUrl = usersUrl + team;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      bottomMessage = _useState2[0],\n      setBottomMessage = _useState2[1];\n\n  var defaultSettings = {\n    \"firstName\": \"\",\n    \"lastName\": \"\",\n    \"isAdmin\": false,\n    \"daysOff\": [1, 2],\n    \"email\": \"\",\n    \"team\": userContext.team,\n    \"password\": \"\",\n    \"confirmPassword\": \"\"\n  };\n\n  var _useState3 = useState(defaultSettings),\n      _useState4 = _slicedToArray(_useState3, 2),\n      newUserData = _useState4[0],\n      setNewUserData = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      daysOff = _useState6[0],\n      setDaysOff = _useState6[1];\n\n  function addNewUser() {\n    var postResponse;\n    return _regeneratorRuntime.async(function addNewUser$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"calling add new user function\");\n            _context.prev = 1;\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios.post(serverURL, newUserData));\n\n          case 4:\n            postResponse = _context.sent;\n            setAddUserToggle(!addUserToggle);\n            _context.next = 12;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](1);\n            setBottomMessage(\"Sorry, wrong inputs\");\n            console.log(_context.t0.message);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[1, 8]], Promise);\n  }\n\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      style: {\n        marginTop: 35,\n        alignSelf: \"center\",\n        fontSize: 20,\n        marginBottom: 15\n      },\n      children: \"Let's add a new user\"\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        style: styles.passwordText,\n        children: \"First Name\"\n      }), _jsx(TextInput, {\n        style: styles.passwordTextInput,\n        placeholder: \"\",\n        secureTextEntry: false,\n        onChangeText: function onChangeText(text) {\n          setNewUserData(function (previousData) {\n            return _objectSpread(_objectSpread({}, previousData), {}, {\n              firstName: text.toString()\n            });\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        style: styles.passwordText,\n        children: \"Last Name\"\n      }), _jsx(TextInput, {\n        style: styles.passwordTextInput,\n        placeholder: \"\",\n        secureTextEntry: false,\n        onChangeText: function onChangeText(text) {\n          setNewUserData(function (previousData) {\n            return _objectSpread(_objectSpread({}, previousData), {}, {\n              lastName: text.toString()\n            });\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        style: styles.passwordText,\n        children: \"Email\"\n      }), _jsx(TextInput, {\n        style: styles.passwordTextInput,\n        placeholder: \"\",\n        secureTextEntry: false,\n        onChangeText: function onChangeText(text) {\n          setNewUserData(function (previousData) {\n            return _objectSpread(_objectSpread({}, previousData), {}, {\n              email: text.toString()\n            });\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        style: styles.passwordText,\n        children: \"Password\"\n      }), _jsx(TextInput, {\n        style: styles.passwordTextInput,\n        placeholder: \"\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(text) {\n          setNewUserData(function (previousData) {\n            return _objectSpread(_objectSpread({}, previousData), {}, {\n              password: text.toString()\n            });\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        style: styles.passwordText,\n        children: \"Confirm Password\"\n      }), _jsx(TextInput, {\n        style: styles.passwordTextInput,\n        placeholder: \"\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(text) {\n          setNewUserData(function (previousData) {\n            return _objectSpread(_objectSpread({}, previousData), {}, {\n              confirmPassword: text.toString()\n            });\n          });\n        }\n      })]\n    }), _jsxs(View, {\n      style: styles.passwordView,\n      children: [_jsx(Text, {\n        children: \"Days off\"\n      }), _jsxs(Picker, {\n        selectedValue: daysOff,\n        onValueChange: function onValueChange(itemValue, itemIndex) {\n          var arrayOfDaysOff = [];\n          arrayOfDaysOff[0] = itemValue.substring(0, 1);\n          arrayOfDaysOff[1] = itemValue.substring(1, 2);\n          setNewUserData(_objectSpread(_objectSpread({}, newUserData), {}, {\n            daysOff: arrayOfDaysOff\n          }));\n        },\n        children: [_jsx(Picker.Item, {\n          label: \"Monday Tuesday\",\n          value: \"12\"\n        }), _jsx(Picker.Item, {\n          label: \"Tuesday Wednesday\",\n          value: \"23\"\n        }), _jsx(Picker.Item, {\n          label: \"Wednesday Thursday\",\n          value: \"34\"\n        }), _jsx(Picker.Item, {\n          label: \"Thursday Friday\",\n          value: \"45\"\n        }), _jsx(Picker.Item, {\n          label: \"Friday Saturday\",\n          value: \"56\"\n        }), _jsx(Picker.Item, {\n          label: \"Saturday Sunday\",\n          value: \"60\"\n        }), _jsx(Picker.Item, {\n          label: \"Sunday Monday\",\n          value: \"01\"\n        })]\n      })]\n    }), _jsx(Pressable, {\n      style: styles.button,\n      onPress: addNewUser,\n      children: _jsx(Text, {\n        style: styles.buttonText,\n        children: \"Submit\"\n      })\n    }), _jsx(Text, {\n      style: {\n        color: \"rgb(168, 66, 50)\",\n        marginTop: 15,\n        fontSize: 25,\n        alignSelf: \"center\"\n      },\n      children: bottomMessage\n    })]\n  });\n});\nexport default AddUser;\nvar styles = StyleSheet.create({\n  globalContainer: {\n    flex: 1,\n    backgroundColor: \"rgb(235, 232, 231)\"\n  },\n  passwordView: {\n    margin: 5,\n    marginLeft: 15,\n    marginBottom: 10\n  },\n  passwordText: {\n    fontSize: 15,\n    marginBottom: 5\n  },\n  passwordTextInput: {\n    height: 50,\n    borderRadius: 10,\n    backgroundColor: \"rgb(209, 204, 203)\",\n    fontSize: 25,\n    paddingLeft: 10\n  },\n  button: {\n    backgroundColor: \"rgb(238, 247, 255)\",\n    width: 150,\n    height: 45,\n    display: \"flex\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 10,\n    marginTop: 10\n  },\n  buttonText: {\n    fontSize: 20\n  }\n});","map":{"version":3,"sources":["C:/Users/mr b/Desktop/planning-react-native/screens/AddUser.tsx"],"names":["React","useState","useContext","Picker","axios","UserContext","URL","AddUser","memo","setTeamMembers","addUserToggle","setAddUserToggle","userContext","setUserContext","console","log","serverURL","usersUrl","team","getUrl","bottomMessage","setBottomMessage","defaultSettings","newUserData","setNewUserData","daysOff","setDaysOff","addNewUser","post","postResponse","message","marginTop","alignSelf","fontSize","marginBottom","styles","passwordView","passwordText","passwordTextInput","text","previousData","firstName","toString","lastName","email","password","confirmPassword","itemValue","itemIndex","arrayOfDaysOff","substring","button","buttonText","color","StyleSheet","create","globalContainer","flex","backgroundColor","margin","marginLeft","height","borderRadius","paddingLeft","width","display","alignItems","justifyContent"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAAuD,OAAvD;;;;;;AAKA,SAASC,MAAT,QAAuB,6BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAGA,SAASC,WAAT;AAEA,OAAOC,GAAP;;;AAEA,IAAMC,OAAO,GAAGP,KAAK,CAACQ,IAAN,CAAW,gBAAwD;AAAA,MAAtDC,cAAsD,QAAtDA,cAAsD;AAAA,MAAtCC,aAAsC,QAAtCA,aAAsC;AAAA,MAAvBC,gBAAuB,QAAvBA,gBAAuB;;AAE/E,oBAAsCT,UAAU,CAACG,WAAD,CAAhD;AAAA,MAAOO,WAAP,eAAOA,WAAP;AAAA,MAAoBC,cAApB,eAAoBA,cAApB;;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AAEA,MAAMC,SAAiB,GAAMV,GAAN,yBAAvB;AACA,MAAMW,QAAgB,GAAMX,GAAN,+BAAtB;AACA,MAAMY,IAAY,GAAGN,WAAW,CAACM,IAAjC;AACA,MAAMC,MAAM,GAAGF,QAAQ,GAAGC,IAA1B;;AAEA,kBAA0CjB,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOmB,aAAP;AAAA,MAAsBC,gBAAtB;;AAaA,MAAMC,eAA2B,GAAG;AAChC,iBAAa,EADmB;AAEhC,gBAAY,EAFoB;AAGhC,eAAW,KAHqB;AAIhC,eAAW,CAAC,CAAD,EAAI,CAAJ,CAJqB;AAKhC,aAAS,EALuB;AAMhC,YAAQV,WAAW,CAACM,IANY;AAOhC,gBAAY,EAPoB;AAQhC,uBAAmB;AARa,GAApC;;AAWA,mBAAsCjB,QAAQ,CAACqB,eAAD,CAA9C;AAAA;AAAA,MAAOC,WAAP;AAAA,MAAoBC,cAApB;;AACA,mBAA8BvB,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOwB,OAAP;AAAA,MAAgBC,UAAhB;;AAEA,WAAeC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AACIb,YAAAA,OAAO,CAACC,GAAR,CAAY,+BAAZ;AADJ;AAAA;AAAA,6CAImCX,KAAK,CAACwB,IAAN,CAAWZ,SAAX,EAAsBO,WAAtB,CAJnC;;AAAA;AAIcM,YAAAA,YAJd;AAYQlB,YAAAA,gBAAgB,CAAC,CAACD,aAAF,CAAhB;AAZR;AAAA;;AAAA;AAAA;AAAA;AAgBQW,YAAAA,gBAAgB,CAAC,qBAAD,CAAhB;AACAP,YAAAA,OAAO,CAACC,GAAR,CAAY,YAAEe,OAAd;;AAjBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBA,SACI,MAAC,IAAD;AAAA,eACI,KAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AACTC,QAAAA,SAAS,EAAE,EADF;AAETC,QAAAA,SAAS,EAAE,QAFF;AAGTC,QAAAA,QAAQ,EAAE,EAHD;AAITC,QAAAA,YAAY,EAAE;AAJL,OAAb;AAAA;AAAA,MADJ,EAQI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEC,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA,QADJ,EAEI,KAAC,SAAD;AACI,QAAA,KAAK,EAAEF,MAAM,CAACG,iBADlB;AAEI,QAAA,WAAW,EAAC,EAFhB;AAGI,QAAA,eAAe,EAAE,KAHrB;AAII,QAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AAClBf,UAAAA,cAAc,CAAC,UAAAgB,YAAY,EAAI;AAC3B,mDAAWA,YAAX;AAAyBC,cAAAA,SAAS,EAAEF,IAAI,CAACG,QAAL;AAApC;AACH,WAFa,CAAd;AAGH;AARL,QAFJ;AAAA,MARJ,EAsBI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEP,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA,QADJ,EAEI,KAAC,SAAD;AACI,QAAA,KAAK,EAAEF,MAAM,CAACG,iBADlB;AAEI,QAAA,WAAW,EAAC,EAFhB;AAGI,QAAA,eAAe,EAAE,KAHrB;AAII,QAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AAClBf,UAAAA,cAAc,CAAC,UAAAgB,YAAY,EAAI;AAC3B,mDAAWA,YAAX;AAAyBG,cAAAA,QAAQ,EAAEJ,IAAI,CAACG,QAAL;AAAnC;AACH,WAFa,CAAd;AAGH;AARL,QAFJ;AAAA,MAtBJ,EAoCI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEP,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA,QADJ,EAEI,KAAC,SAAD;AACI,QAAA,KAAK,EAAEF,MAAM,CAACG,iBADlB;AAEI,QAAA,WAAW,EAAC,EAFhB;AAGI,QAAA,eAAe,EAAE,KAHrB;AAII,QAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AAClBf,UAAAA,cAAc,CAAC,UAAAgB,YAAY,EAAI;AAC3B,mDAAWA,YAAX;AAAyBI,cAAAA,KAAK,EAAEL,IAAI,CAACG,QAAL;AAAhC;AACH,WAFa,CAAd;AAGH;AARL,QAFJ;AAAA,MApCJ,EAkDI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEP,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA,QADJ,EAEI,KAAC,SAAD;AACI,QAAA,KAAK,EAAEF,MAAM,CAACG,iBADlB;AAEI,QAAA,WAAW,EAAC,EAFhB;AAGI,QAAA,eAAe,EAAE,IAHrB;AAII,QAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AAClBf,UAAAA,cAAc,CAAC,UAAAgB,YAAY,EAAI;AAC3B,mDAAWA,YAAX;AAAyBK,cAAAA,QAAQ,EAAEN,IAAI,CAACG,QAAL;AAAnC;AACH,WAFa,CAAd;AAGH;AARL,QAFJ;AAAA,MAlDJ,EAgEI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEP,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAM,QAAA,KAAK,EAAED,MAAM,CAACE,YAApB;AAAA;AAAA,QADJ,EAEI,KAAC,SAAD;AACI,QAAA,KAAK,EAAEF,MAAM,CAACG,iBADlB;AAEI,QAAA,WAAW,EAAC,EAFhB;AAGI,QAAA,eAAe,EAAE,IAHrB;AAII,QAAA,YAAY,EAAE,sBAAAC,IAAI,EAAI;AAClBf,UAAAA,cAAc,CAAC,UAAAgB,YAAY,EAAI;AAC3B,mDAAWA,YAAX;AAAyBM,cAAAA,eAAe,EAAEP,IAAI,CAACG,QAAL;AAA1C;AACH,WAFa,CAAd;AAGH;AARL,QAFJ;AAAA,MAhEJ,EA8EI,MAAC,IAAD;AAAM,MAAA,KAAK,EAAEP,MAAM,CAACC,YAApB;AAAA,iBACI,KAAC,IAAD;AAAA;AAAA,QADJ,EAEI,MAAC,MAAD;AACI,QAAA,aAAa,EAAEX,OADnB;AAEI,QAAA,aAAa,EAAE,uBAACsB,SAAD,EAAYC,SAAZ,EACX;AAAC,cAAIC,cAAwB,GAAG,EAA/B;AACDA,UAAAA,cAAc,CAAC,CAAD,CAAd,GAAoBF,SAAS,CAACG,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAApB;AACAD,UAAAA,cAAc,CAAC,CAAD,CAAd,GAAoBF,SAAS,CAACG,SAAV,CAAoB,CAApB,EAAuB,CAAvB,CAApB;AACA1B,UAAAA,cAAc,iCAAKD,WAAL;AAAkBE,YAAAA,OAAO,EAAEwB;AAA3B,aAAd;AAA2D,SANnE;AAAA,mBAQI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,gBAAnB;AAAoC,UAAA,KAAK,EAAC;AAA1C,UARJ,EASI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,mBAAnB;AAAuC,UAAA,KAAK,EAAC;AAA7C,UATJ,EAUI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,oBAAnB;AAAwC,UAAA,KAAK,EAAC;AAA9C,UAVJ,EAWI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,iBAAnB;AAAqC,UAAA,KAAK,EAAC;AAA3C,UAXJ,EAYI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,iBAAnB;AAAqC,UAAA,KAAK,EAAC;AAA3C,UAZJ,EAaI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,iBAAnB;AAAqC,UAAA,KAAK,EAAC;AAA3C,UAbJ,EAcI,KAAC,MAAD,CAAQ,IAAR;AAAa,UAAA,KAAK,EAAC,eAAnB;AAAmC,UAAA,KAAK,EAAC;AAAzC,UAdJ;AAAA,QAFJ;AAAA,MA9EJ,EAkGI,KAAC,SAAD;AACI,MAAA,KAAK,EAAEd,MAAM,CAACgB,MADlB;AAEI,MAAA,OAAO,EAAExB,UAFb;AAAA,gBAII,KAAC,IAAD;AAAM,QAAA,KAAK,EAAEQ,MAAM,CAACiB,UAApB;AAAA;AAAA;AAJJ,MAlGJ,EAyGI,KAAC,IAAD;AAAM,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,kBAAR;AAA4BtB,QAAAA,SAAS,EAAE,EAAvC;AAA2CE,QAAAA,QAAQ,EAAE,EAArD;AAAyDD,QAAAA,SAAS,EAAC;AAAnE,OAAb;AAAA,gBAA4FZ;AAA5F,MAzGJ;AAAA,IADJ;AA8GH,CAxKe,CAAhB;AA0KA,eAAeb,OAAf;AAEA,IAAM4B,MAAM,GAAGmB,UAAU,CAACC,MAAX,CAAkB;AAC7BC,EAAAA,eAAe,EAAE;AACbC,IAAAA,IAAI,EAAE,CADO;AAEbC,IAAAA,eAAe,EAAE;AAFJ,GADY;AAK7BtB,EAAAA,YAAY,EAAE;AACVuB,IAAAA,MAAM,EAAE,CADE;AAEVC,IAAAA,UAAU,EAAE,EAFF;AAGV1B,IAAAA,YAAY,EAAE;AAHJ,GALe;AAU7BG,EAAAA,YAAY,EAAE;AACVJ,IAAAA,QAAQ,EAAE,EADA;AAEVC,IAAAA,YAAY,EAAE;AAFJ,GAVe;AAc7BI,EAAAA,iBAAiB,EAAE;AACfuB,IAAAA,MAAM,EAAE,EADO;AAEfC,IAAAA,YAAY,EAAE,EAFC;AAGfJ,IAAAA,eAAe,EAAE,oBAHF;AAIfzB,IAAAA,QAAQ,EAAE,EAJK;AAKf8B,IAAAA,WAAW,EAAE;AALE,GAdU;AAqB7BZ,EAAAA,MAAM,EAAE;AACJO,IAAAA,eAAe,EAAE,oBADb;AAEJM,IAAAA,KAAK,EAAE,GAFH;AAGJH,IAAAA,MAAM,EAAE,EAHJ;AAIJI,IAAAA,OAAO,EAAE,MAJL;AAKJC,IAAAA,UAAU,EAAE,QALR;AAMJlC,IAAAA,SAAS,EAAE,QANP;AAOJmC,IAAAA,cAAc,EAAE,QAPZ;AAQJL,IAAAA,YAAY,EAAE,EARV;AASJ/B,IAAAA,SAAS,EAAE;AATP,GArBqB;AAgC7BqB,EAAAA,UAAU,EAAE;AACRnB,IAAAA,QAAQ,EAAE;AADF;AAhCiB,CAAlB,CAAf","sourcesContent":["import React, { useState, useContext, useEffect } from 'react'\r\nimport { StyleSheet, Text, View, Image, TextInput, Button, Pressable, ImageBackground, ActivityIndicator, ScrollView  } from 'react-native';\r\nimport { CardStyleInterpolators } from 'react-navigation-stack';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { NavigationContext } from 'react-navigation';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport axios from 'axios';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nimport URL from '../utils/URL';\r\n\r\nconst AddUser = React.memo(({setTeamMembers, addUserToggle, setAddUserToggle} ) => {\r\n\r\n    const {userContext, setUserContext} = useContext(UserContext);\r\n    console.log('render add user')\r\n\r\n    const serverURL: string = `${URL}/api/v1/users/signup`;\r\n    const usersUrl: string = `${URL}/api/v1/users/getAllUsers/`;\r\n    const team: string = userContext.team;\r\n    const getUrl = usersUrl + team\r\n\r\n    const [bottomMessage, setBottomMessage] = useState(\"\");\r\n\r\n    interface UserInputs {\r\n        firstName: string,\r\n        lastName: string,\r\n        isAdmin: boolean,\r\n        daysOff: [number, number],\r\n        email: string,\r\n        team: string,\r\n        password: string,\r\n        confirmPassword: string \r\n    }\r\n\r\n    const defaultSettings: UserInputs = {\r\n        \"firstName\": \"\",\r\n        \"lastName\": \"\",\r\n        \"isAdmin\": false,\r\n        \"daysOff\": [1, 2],\r\n        \"email\": \"\",\r\n        \"team\": userContext.team,\r\n        \"password\": \"\",\r\n        \"confirmPassword\": \"\"\r\n    }\r\n\r\n    const [newUserData, setNewUserData] = useState(defaultSettings);\r\n    const [daysOff, setDaysOff] = useState([]);\r\n\r\n    async function addNewUser() {\r\n        console.log(\"calling add new user function\");\r\n        try {\r\n            // create proper array for days off\r\n            const postResponse = await axios.post(serverURL, newUserData);\r\n\r\n            // Set new users list\r\n            // const response = await axios.get(getUrl);\r\n            // const users = response.data.data;\r\n            // setTeamMembers(users);\r\n            // setBottomMessage(\"\");\r\n\r\n            setAddUserToggle(!addUserToggle);\r\n\r\n\r\n        } catch (e) {\r\n            setBottomMessage(\"Sorry, wrong inputs\");\r\n            console.log(e.message)        \r\n        }\r\n    }\r\n\r\n    return (\r\n        <View>\r\n            <Text style={{\r\n                marginTop: 35,\r\n                alignSelf: \"center\",\r\n                fontSize: 20,\r\n                marginBottom: 15\r\n            }}>Let's add a new user</Text>\r\n\r\n            <View style={styles.passwordView}>\r\n                <Text style={styles.passwordText}>First Name</Text>\r\n                <TextInput \r\n                    style={styles.passwordTextInput}\r\n                    placeholder=\"\"\r\n                    secureTextEntry={false}\r\n                    onChangeText={text => {\r\n                        setNewUserData(previousData => {\r\n                            return {...previousData, firstName: text.toString()}\r\n                        })\r\n                    }}\r\n                />\r\n            </View>\r\n\r\n            <View style={styles.passwordView}>\r\n                <Text style={styles.passwordText}>Last Name</Text>\r\n                <TextInput \r\n                    style={styles.passwordTextInput}\r\n                    placeholder=\"\"\r\n                    secureTextEntry={false}\r\n                    onChangeText={text => {\r\n                        setNewUserData(previousData => {\r\n                            return {...previousData, lastName: text.toString()}\r\n                        })\r\n                    }}\r\n                />\r\n            </View>\r\n\r\n            <View style={styles.passwordView}>\r\n                <Text style={styles.passwordText}>Email</Text>\r\n                <TextInput \r\n                    style={styles.passwordTextInput}\r\n                    placeholder=\"\"\r\n                    secureTextEntry={false}\r\n                    onChangeText={text => {\r\n                        setNewUserData(previousData => {\r\n                            return {...previousData, email: text.toString()}\r\n                        })\r\n                    }}\r\n                />\r\n            </View>\r\n\r\n            <View style={styles.passwordView}>\r\n                <Text style={styles.passwordText}>Password</Text>\r\n                <TextInput \r\n                    style={styles.passwordTextInput}\r\n                    placeholder=\"\"\r\n                    secureTextEntry={true}\r\n                    onChangeText={text => {\r\n                        setNewUserData(previousData => {\r\n                            return {...previousData, password: text.toString()}\r\n                        })\r\n                    }}\r\n                />\r\n            </View>\r\n\r\n            <View style={styles.passwordView}>\r\n                <Text style={styles.passwordText}>Confirm Password</Text>\r\n                <TextInput \r\n                    style={styles.passwordTextInput}\r\n                    placeholder=\"\"\r\n                    secureTextEntry={true}\r\n                    onChangeText={text => {\r\n                        setNewUserData(previousData => {\r\n                            return {...previousData, confirmPassword: text.toString()}\r\n                        })\r\n                    }}\r\n                />\r\n            </View>\r\n            \r\n            <View style={styles.passwordView}>\r\n                <Text>Days off</Text>\r\n                <Picker\r\n                    selectedValue={daysOff}\r\n                    onValueChange={(itemValue, itemIndex) =>\r\n                        {let arrayOfDaysOff: number[] = [];\r\n                        arrayOfDaysOff[0] = itemValue.substring(0, 1);\r\n                        arrayOfDaysOff[1] = itemValue.substring(1, 2);\r\n                        setNewUserData({...newUserData, daysOff: arrayOfDaysOff});}\r\n                    }>\r\n                    <Picker.Item label=\"Monday Tuesday\" value=\"12\" />\r\n                    <Picker.Item label=\"Tuesday Wednesday\" value=\"23\" />\r\n                    <Picker.Item label=\"Wednesday Thursday\" value=\"34\" />\r\n                    <Picker.Item label=\"Thursday Friday\" value=\"45\" />\r\n                    <Picker.Item label=\"Friday Saturday\" value=\"56\" />\r\n                    <Picker.Item label=\"Saturday Sunday\" value=\"60\" />\r\n                    <Picker.Item label=\"Sunday Monday\" value=\"01\" />\r\n                </Picker>\r\n            </View>\r\n\r\n            <Pressable \r\n                style={styles.button}\r\n                onPress={addNewUser}\r\n                >\r\n                <Text style={styles.buttonText}>Submit</Text>\r\n            </Pressable>\r\n\r\n            <Text style={{color: \"rgb(168, 66, 50)\", marginTop: 15, fontSize: 25, alignSelf:\"center\"}}>{bottomMessage}</Text>\r\n            \r\n        </View>\r\n    )\r\n});\r\n\r\nexport default AddUser\r\n\r\nconst styles = StyleSheet.create({\r\n    globalContainer: {\r\n        flex: 1,\r\n        backgroundColor: \"rgb(235, 232, 231)\",\r\n    },\r\n    passwordView: {\r\n        margin: 5,\r\n        marginLeft: 15,\r\n        marginBottom: 10\r\n    },\r\n    passwordText: {\r\n        fontSize: 15,\r\n        marginBottom: 5\r\n    },\r\n    passwordTextInput: {\r\n        height: 50,\r\n        borderRadius: 10,\r\n        backgroundColor: \"rgb(209, 204, 203)\",\r\n        fontSize: 25,\r\n        paddingLeft: 10,\r\n    },\r\n    button: {\r\n        backgroundColor: \"rgb(238, 247, 255)\",\r\n        width: 150,\r\n        height: 45,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        alignSelf: \"center\",\r\n        justifyContent: \"center\",\r\n        borderRadius: 10,\r\n        marginTop: 10,\r\n    },\r\n    buttonText: {\r\n        fontSize: 20\r\n    },\r\n})\r\n"]},"metadata":{},"sourceType":"module"}