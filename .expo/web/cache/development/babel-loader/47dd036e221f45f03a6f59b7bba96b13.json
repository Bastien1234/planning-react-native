{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { UserContext } from \"../context/UserContext\";\nimport URL from \"../utils/URL\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar backendUrl = URL;\nvar cssColors = {\n  na: \"rgb(255, 255, 153)\",\n  off: \"\",\n  am: \"rgb(153, 204, 255)\",\n  mid: \"rgb(255, 153, 153)\",\n  pm: \"rgb(255, 204, 153)\",\n  cp: \"rgb(153, 255, 255)\"\n};\nvar planningOptions = [\"am\", \"mid\", \"pm\", \"off\", \"cp\"];\nvar weekList = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\nvar monthList = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"Decemnber\"];\n\nvar PlanningScreen = function PlanningScreen(_ref) {\n  var navigation = _ref.navigation;\n  console.log(\"rendering planning screen\");\n\n  var _useContext = useContext(UserContext),\n      userContext = _useContext.userContext,\n      setUserContext = _useContext.setUserContext;\n\n  var team = userContext.team;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      changePasswordPage = _useState4[0],\n      setChangePasswordPage = _useState4[1];\n\n  var _useState5 = useState({\n    x: null,\n    y: null\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      popUpPosition = _useState6[0],\n      setPopUpPosition = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      showPopUp = _useState8[0],\n      setShowPopUp = _useState8[1];\n\n  var _useState9 = useState(\"nobodyyy\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      currentRequestor = _useState10[0],\n      setCurrentRequestor = _useState10[1];\n\n  var _useState11 = useState(\"noDayYet\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      currentIndexDay = _useState12[0],\n      setCurrentIndexDay = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      monthState = _useState14[0],\n      setMonthState = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      passwordErrorMessage = _useState16[0],\n      setPasswordErrorMessage = _useState16[1];\n\n  var _useState17 = useState({\n    password: \"\",\n    passwordConfirm: \"\",\n    passwordCurrent: \"\"\n  }),\n      _useState18 = _slicedToArray(_useState17, 2),\n      newPasswordValues = _useState18[0],\n      setNewPasswordValue = _useState18[1];\n\n  var _useState19 = useState(false),\n      _useState20 = _slicedToArray(_useState19, 2),\n      showSideBar = _useState20[0],\n      setShowSideBar = _useState20[1];\n\n  var usersReload = function usersReload() {\n    var result, filteredResults, names, workingMonth;\n    return _regeneratorRuntime.async(function usersReload$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(\"calling users reload\");\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios.get(backendUrl + \"/api/v1/users/getAllUsers/\" + team));\n\n          case 3:\n            result = _context.sent;\n            filteredResults = result.data.data;\n            names = [];\n            filteredResults.forEach(function (el) {\n              return names.push({\n                firstName: el.firstName,\n                lastName: el.lastName\n              });\n            });\n            setUsers(names);\n            setDb(filteredResults);\n            workingMonth = monthList[new Date().getMonth()];\n            setMonthState(workingMonth);\n            setIsLoading(false);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var now = new Date();\n\n  function daysInThisMonth() {\n    return new Date(now.getFullYear(), now.getMonth() + 1, 0).getDate();\n  }\n\n  var daysInCurrentMonth = daysInThisMonth();\n  var currentYear = new Date().getFullYear();\n  var currentMonth = new Date().getMonth() + 1;\n  if (currentMonth < 10) currentMonth = \"0\" + currentMonth;else currentMonth = \"\" + currentMonth;\n  var monthDaysArray = [];\n\n  for (var i = 1; i <= daysInCurrentMonth; i++) {\n    monthDaysArray.push(i);\n  }\n\n  var monthIndexDayArray = [];\n\n  for (var _i = 1; _i <= daysInCurrentMonth; _i++) {\n    var newI;\n\n    if (_i < 10) {\n      newI = \"0\" + _i;\n    } else {\n      newI = \"\" + _i;\n    }\n\n    monthIndexDayArray.push(currentYear + \"-\" + currentMonth + \"-\" + newI);\n  }\n\n  var isWeekEnd = [];\n\n  for (var _i2 = 1; _i2 <= daysInCurrentMonth; _i2++) {\n    var day = new Date(now.getFullYear(), now.getMonth(), _i2).getDay();\n    day === 6 || day === 0 ? isWeekEnd.push(\"rgb(75, 219, 130)\") : isWeekEnd.push(0);\n  }\n\n  var _useState21 = useState([]),\n      _useState22 = _slicedToArray(_useState21, 2),\n      users = _useState22[0],\n      setUsers = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      db = _useState24[0],\n      setDb = _useState24[1];\n\n  function generateMonth() {\n    var date, team, month, year, token, localToken, headers, response;\n    return _regeneratorRuntime.async(function generateMonth$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"calling generate month\");\n            date = new Date();\n            team = userContext.team;\n            month = date.getMonth();\n            year = date.getFullYear();\n            token = \"Bearer \";\n            _context2.prev = 6;\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(getToken('token'));\n\n          case 9:\n            localToken = _context2.sent;\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context2.next = 14;\n            return _regeneratorRuntime.awrap(axios.post(backendUrl + \"/api/v1/users/generateMonth\", {\n              team: team,\n              month: month,\n              year: year\n            }, {\n              headers: headers\n            }));\n\n          case 14:\n            response = _context2.sent;\n\n            if (response.status === 200) {\n                console.log(\"calling user reload from generate month\");\n                usersReload();\n              }\n\n            _context2.next = 21;\n            break;\n\n          case 18:\n            _context2.prev = 18;\n            _context2.t0 = _context2[\"catch\"](6);\n            console.log(_context2.t0.message);\n\n          case 21:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, [[6, 18]], Promise);\n  }\n\n  useEffect(function () {\n    console.log(\"use effect\");\n    generateMonth();\n  }, []);\n\n  var setToken = function setToken(value) {\n    return _regeneratorRuntime.async(function setToken$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.setItem('token', value));\n\n          case 3:\n            _context3.next = 8;\n            break;\n\n          case 5:\n            _context3.prev = 5;\n            _context3.t0 = _context3[\"catch\"](0);\n            console.log(_context3.t0.message);\n\n          case 8:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, [[0, 5]], Promise);\n  };\n\n  var getToken = function getToken(value) {\n    var returnValue;\n    return _regeneratorRuntime.async(function getToken$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(value));\n\n          case 3:\n            returnValue = _context4.sent;\n            return _context4.abrupt(\"return\", returnValue);\n\n          case 7:\n            _context4.prev = 7;\n            _context4.t0 = _context4[\"catch\"](0);\n            console.log(\"error when returning getToken, message : \", _context4.t0.message);\n\n          case 10:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  function logout() {\n    return _regeneratorRuntime.async(function logout$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.next = 2;\n            return _regeneratorRuntime.awrap(setToken('logOut'));\n\n          case 2:\n            setUserContext({\n              loggedIn: false,\n              isAdmin: false,\n              firstName: \"\",\n              lastName: \"\",\n              email: \"\",\n              team: \"\",\n              id: \"\"\n            });\n\n          case 3:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function setNewShift(option, currentRequestor, currentIndexDay) {\n    var token, localToken, headers, response;\n    return _regeneratorRuntime.async(function setNewShift$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            token = \"Bearer \";\n            _context6.prev = 1;\n            localToken = getToken('token');\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context6.next = 7;\n            return _regeneratorRuntime.awrap(axios.post(backendUrl + \"/api/v1/users/requestChangeShift\", {\n              requestor: currentRequestor,\n              newShift: option,\n              indexDay: currentIndexDay\n            }, {\n              headers: headers\n            }));\n\n          case 7:\n            response = _context6.sent;\n\n            if (response.status === 200) {\n              usersReload();\n            }\n\n            _context6.next = 14;\n            break;\n\n          case 11:\n            _context6.prev = 11;\n            _context6.t0 = _context6[\"catch\"](1);\n            console.log(_context6.t0.message);\n\n          case 14:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, [[1, 11]], Promise);\n  }\n\n  function changePassword(passwordCurrent, password, passwordConfirm) {\n    var token, localToken, headers, response;\n    return _regeneratorRuntime.async(function changePassword$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            if (!(password !== passwordConfirm)) {\n              _context7.next = 3;\n              break;\n            }\n\n            setPasswordErrorMessage(\"Password and confirm don't match moron !\");\n            return _context7.abrupt(\"return\");\n\n          case 3:\n            if (!(password === passwordCurrent)) {\n              _context7.next = 6;\n              break;\n            }\n\n            setPasswordErrorMessage(\"Can't change for the same password stupid !\");\n            return _context7.abrupt(\"return\");\n\n          case 6:\n            token = \"Bearer \";\n            _context7.prev = 7;\n            localToken = getToken('token');\n            token += localToken;\n            headers = {\n              'Content-Type': 'application/json',\n              'Authorization': token\n            };\n            _context7.next = 13;\n            return _regeneratorRuntime.awrap(axios.put(backendUrl + \"/api/v1/users/changePassword\", {\n              passwordCurrent: newPasswordValues.passwordCurrent,\n              password: newPasswordValues.password,\n              passwordConfirm: newPasswordValues.passwordConfirm,\n              email: userContext.email\n            }));\n\n          case 13:\n            response = _context7.sent;\n\n            if (response.status === 200) {\n              setPasswordErrorMessage(\"Password Changed\");\n              setTimeout(function () {\n                setPasswordErrorMessage(\"\");\n              }, 500);\n            } else {\n              setPasswordErrorMessage(\"Something's wrong...\");\n            }\n\n            _context7.next = 20;\n            break;\n\n          case 17:\n            _context7.prev = 17;\n            _context7.t0 = _context7[\"catch\"](7);\n            console.log(_context7.t0.message);\n\n          case 20:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, [[7, 17]], Promise);\n  }\n\n  var _useState25 = useState(\"\"),\n      _useState26 = _slicedToArray(_useState25, 2),\n      userChangingShift = _useState26[0],\n      setUserChangingShift = _useState26[1];\n\n  var _useState27 = useState(\"\"),\n      _useState28 = _slicedToArray(_useState27, 2),\n      shiftChanging = _useState28[0],\n      setShiftChanging = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      dayChanging = _useState30[0],\n      setDayChanging = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      userFirstName = _useState32[0],\n      setUserFirstName = _useState32[1];\n\n  var SideView = function SideView() {\n    return _jsxs(View, {\n      style: {\n        left: 0,\n        top: 0,\n        height: \"100%\",\n        width: 200,\n        position: \"absolute\",\n        backgroundColor: \"rgb(110, 116, 170)\",\n        paddingTop: 50,\n        paddingLeft: 15,\n        zIndex: 1000,\n        elevation: 50\n      },\n      children: [_jsx(Text, {\n        style: {\n          fontSize: 25,\n          fontWeight: \"bold\"\n        },\n        children: \"Changing shift\"\n      }), _jsx(Text, {\n        style: {\n          fontSize: 20,\n          marginTop: 15\n        },\n        children: \"For user : \"\n      }), _jsx(Text, {\n        style: {\n          fontSize: 20,\n          marginTop: 3,\n          marginBottom: 15\n        },\n        children: userFirstName\n      }), _jsx(View, {\n        children: planningOptions.map(function (shiftElement, idx) {\n          return _jsx(Pressable, {\n            onPress: function onPress() {\n              setShiftChanging(shiftElement);\n              setNewShift(shiftElement, userChangingShift, dayChanging);\n              setShowSideBar(false);\n              usersReload();\n            },\n            children: _jsx(Text, {\n              style: {\n                fontSize: 25,\n                borderWidth: 1,\n                borderRadius: 5,\n                overflow: \"hidden\",\n                width: 50,\n                textAlign: \"center\",\n                marginBottom: 3,\n                backgroundColor: cssColors[shiftElement] !== \"\" ? cssColors[shiftElement] : \"rgb(235, 232, 231)\"\n              },\n              children: shiftElement\n            })\n          }, idx);\n        })\n      }), _jsx(Pressable, {\n        onPress: function onPress() {\n          return setShowSideBar(false);\n        },\n        children: _jsx(Text, {\n          style: {\n            fontSize: 25,\n            fontWeight: \"bold\",\n            marginTop: 20\n          },\n          children: \"Close\"\n        })\n      })]\n    });\n  };\n\n  return _jsx(SafeAreaView, {\n    style: styles.globalContainer,\n    children: isLoading === true ? _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"rgb(110, 116, 170)\",\n      style: {\n        paddingTop: 150\n      }\n    }) : _jsxs(View, {\n      style: {\n        flex: 1\n      },\n      children: [_jsx(View, {\n        style: styles.header,\n        children: _jsx(Pressable, {\n          style: {\n            alignSelf: \"flex-end\",\n            marginRight: 15\n          },\n          onPress: function onPress() {\n            navigation.navigate(\"Settings\");\n          },\n          children: _jsx(Image, {\n            source: require(\"./../assets/icons/settings.png\"),\n            style: styles.svg\n          })\n        })\n      }), _jsxs(View, {\n        style: {\n          flexDirection: \"row\",\n          justifyContent: \"center\",\n          height: 50,\n          alignItems: \"center\",\n          marginTop: 15,\n          marginBottom: 15\n        },\n        children: [_jsx(Image, {\n          source: require(\"./../assets/icons/left-arrow.png\"),\n          style: _objectSpread(_objectSpread({}, styles.svg), {}, {\n            marginRight: 15\n          })\n        }), _jsx(Text, {\n          style: {\n            fontSize: 30,\n            fontWeight: \"bold\"\n          },\n          children: monthState\n        }), _jsx(Image, {\n          source: require(\"./../assets/icons/right-arrow.png\"),\n          style: _objectSpread(_objectSpread({}, styles.svg), {}, {\n            marginLeft: 15\n          })\n        })]\n      }), _jsx(View, {\n        style: {\n          paddingTop: 20,\n          paddingBottom: 20,\n          paddingLeft: 10,\n          paddingRight: 10,\n          backgroundColor: \"rgb(235, 232, 231)\",\n          shadowColor: \"#000\",\n          shadowOffset: {\n            width: 0,\n            height: 2\n          },\n          shadowOpacity: 0.25,\n          shadowRadius: 3.84,\n          elevation: 5\n        },\n        children: _jsxs(ScrollView, {\n          horizontal: true,\n          style: {\n            shadowColor: \"#000\",\n            shadowOffset: {\n              width: 0,\n              height: 5\n            },\n            shadowOpacity: 0.34,\n            shadowRadius: 6.27,\n            elevation: 10\n          },\n          children: [_jsxs(View, {\n            children: [_jsx(Text, {\n              style: _objectSpread(_objectSpread({}, styles.user), {}, {\n                opacity: 0\n              }),\n              children: \"\\\" \\\"\"\n            }), users.map(function (el, idx) {\n              return _jsxs(Text, {\n                style: styles.user,\n                children: [el.firstName, \" \", el.lastName.slice(0, 1)]\n              }, idx);\n            })]\n          }), _jsx(View, {\n            style: {\n              flexDirection: \"row\"\n            },\n            children: monthIndexDayArray.map(function (day, idx) {\n              return _jsxs(View, {\n                children: [_jsx(Text, {\n                  style: _objectSpread({\n                    backgroundColor: isWeekEnd[idx]\n                  }, styles.case),\n                  children: day.substring(8, 10)\n                }), db.map(function (user) {\n                  return user.shifts.map(function (shft, shftIdx) {\n                    return shft.indexDay === day ? _jsx(Pressable, {\n                      onPress: function onPress() {\n                        if (userContext.isAdmin === true) {\n                          setUserChangingShift(user.email);\n                          setUserFirstName(user.firstName);\n                          setDayChanging(shft.indexDay);\n                          setShowSideBar(true);\n                        }\n                      },\n                      children: _jsx(Text, {\n                        style: _objectSpread(_objectSpread({}, styles.case), {}, {\n                          backgroundColor: cssColors[shft.shift] !== \"\" ? cssColors[shft.shift] : null\n                        }),\n                        children: shft.shift\n                      })\n                    }, shftIdx) : null;\n                  });\n                })]\n              }, idx);\n            })\n          })]\n        })\n      }), showSideBar ? _jsx(SideView, {}) : null]\n    })\n  });\n};\n\nexport default PlanningScreen;\nvar styles = StyleSheet.create({\n  globalContainer: {\n    flex: 1,\n    backgroundColor: \"rgb(235, 232, 231)\"\n  },\n  header: {\n    display: \"flex\",\n    height: 65,\n    backgroundColor: \"rgb(235, 232, 231)\",\n    justifyContent: \"center\"\n  },\n  headerTitle: {\n    fontSize: 30,\n    fontWeight: \"bold\",\n    color: \"rgb(110, 116, 170)\",\n    alignSelf: \"center\"\n  },\n  headerSubtitle: {\n    fontSize: 17,\n    fontWeight: \"bold\",\n    color: \"rgb(235, 232, 231)\",\n    marginBottom: 10,\n    alignSelf: \"center\"\n  },\n  headerImage: {\n    flex: 1,\n    resizeMode: \"center\",\n    justifyContent: 'center',\n    opacity: 0.7\n  },\n  svg: {\n    height: 30,\n    width: 30\n  },\n  inputsContainer: {\n    flex: 1,\n    justifyContent: \"space-between\",\n    marginTop: 50,\n    marginBottom: 50\n  },\n  viewHolder: {\n    display: \"flex\",\n    alignItems: \"center\"\n  },\n  preTextInput: {\n    fontSize: 17,\n    paddingLeft: 20,\n    alignSelf: \"flex-start\"\n  },\n  button: {\n    backgroundColor: \"rgb(238, 247, 255)\",\n    width: 150,\n    height: 45,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 10,\n    marginTop: 10\n  },\n  buttonText: {\n    fontSize: 20\n  },\n  textInput: {\n    display: \"flex\",\n    backgroundColor: \"white\",\n    width: \"95%\",\n    marginTop: 5,\n    borderRadius: 5,\n    fontSize: 20\n  },\n  user: {\n    fontSize: 20,\n    height: 30,\n    borderRadius: 5,\n    marginBottom: 2,\n    justifyContent: \"center\",\n    overflow: \"hidden\",\n    borderWidth: 1,\n    textAlign: \"right\",\n    paddingRight: 5\n  },\n  case: {\n    fontSize: 20,\n    marginLeft: 5,\n    marginBottom: 2,\n    alignSelf: \"center\",\n    justifyContent: \"center\",\n    borderRadius: 5,\n    width: 37,\n    textAlign: \"center\",\n    height: 30,\n    overflow: \"hidden\"\n  }\n});","map":{"version":3,"sources":["/Users/bastien/Desktop/planning-react-native/screens/PlanningScreen.tsx"],"names":["React","useState","useContext","useEffect","SafeAreaView","axios","AsyncStorage","UserContext","URL","backendUrl","cssColors","na","off","am","mid","pm","cp","planningOptions","weekList","monthList","PlanningScreen","navigation","console","log","userContext","setUserContext","team","isLoading","setIsLoading","changePasswordPage","setChangePasswordPage","x","y","popUpPosition","setPopUpPosition","showPopUp","setShowPopUp","currentRequestor","setCurrentRequestor","currentIndexDay","setCurrentIndexDay","monthState","setMonthState","passwordErrorMessage","setPasswordErrorMessage","password","passwordConfirm","passwordCurrent","newPasswordValues","setNewPasswordValue","showSideBar","setShowSideBar","usersReload","get","result","filteredResults","data","names","forEach","el","push","firstName","lastName","setUsers","setDb","workingMonth","Date","getMonth","now","daysInThisMonth","getFullYear","getDate","daysInCurrentMonth","currentYear","currentMonth","monthDaysArray","i","monthIndexDayArray","newI","isWeekEnd","day","getDay","users","db","generateMonth","date","month","year","token","getToken","localToken","headers","post","response","status","message","setToken","value","setItem","getItem","returnValue","logout","loggedIn","isAdmin","email","id","setNewShift","option","requestor","newShift","indexDay","changePassword","put","setTimeout","userChangingShift","setUserChangingShift","shiftChanging","setShiftChanging","dayChanging","setDayChanging","userFirstName","setUserFirstName","SideView","left","top","height","width","position","backgroundColor","paddingTop","paddingLeft","zIndex","elevation","fontSize","fontWeight","marginTop","marginBottom","map","shiftElement","idx","borderWidth","borderRadius","overflow","textAlign","styles","globalContainer","flex","header","alignSelf","marginRight","navigate","require","svg","flexDirection","justifyContent","alignItems","marginLeft","paddingBottom","paddingRight","shadowColor","shadowOffset","shadowOpacity","shadowRadius","user","opacity","slice","case","substring","shifts","shft","shftIdx","shift","StyleSheet","create","display","headerTitle","color","headerSubtitle","headerImage","resizeMode","inputsContainer","viewHolder","preTextInput","button","buttonText","textInput"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect, useCallback, useMemo } from 'react'\nimport { StyleSheet, Text, View, Image, TextInput, Button, Pressable, ImageBackground, ActivityIndicator, ScrollView  } from 'react-native';\nimport { CardStyleInterpolators } from 'react-navigation-stack';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { NavigationContext } from 'react-navigation';\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport * as ScreenOrientation from 'expo-screen-orientation';\n\nimport { UserContext } from '../context/UserContext';\n\nimport URL from '../utils/URL';\n\nconst backendUrl:string = URL;\n\nconst cssColors = {\n    na: \"rgb(255, 255, 153)\",\n    off: \"\",\n    am: \"rgb(153, 204, 255)\",\n    mid: \"rgb(255, 153, 153)\",\n    pm: \"rgb(255, 204, 153)\",\n    cp: \"rgb(153, 255, 255)\"\n}\n\nconst planningOptions: string[] = [\"am\", \"mid\", \"pm\", \"off\", \"cp\"];\nconst weekList: string[] = [\"sun\", \"mon\", \"tue\", \"wed\", \"thu\", \"fri\", \"sat\"];\nconst monthList: string[] = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"Decemnber\"];\n\n\nconst PlanningScreen = ({ navigation }) => {\n\n    console.log(\"rendering planning screen\");\n\n    const { userContext, setUserContext } = useContext(UserContext);\n\n    const team = userContext.team;\n    \n    const [isLoading, setIsLoading] = useState(true);\n    const [changePasswordPage, setChangePasswordPage] = useState(false);\n    const [popUpPosition, setPopUpPosition] = useState({x:null, y:null});\n    const [showPopUp, setShowPopUp] = useState(false);\n    const [currentRequestor, setCurrentRequestor] = useState(\"nobodyyy\");\n    const [currentIndexDay, setCurrentIndexDay] = useState(\"noDayYet\");\n    const [monthState, setMonthState] = useState(\"\");\n    const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\n    const [newPasswordValues, setNewPasswordValue] = useState({\n        password: \"\",\n        passwordConfirm: \"\",\n        passwordCurrent: \"\"\n    })\n    const [showSideBar, setShowSideBar] = useState(false);\n\n    // Refreshthe page, just like in useEffect\n    const usersReload = async () =>{\n\n        console.log(\"calling users reload\");\n        const result = await axios.get(`${backendUrl}/api/v1/users/getAllUsers/` + team);\n        const filteredResults = result.data.data;\n        const names:any = [];\n        filteredResults.forEach(el => names.push({firstName: el.firstName, lastName: el.lastName}))\n        setUsers(names);\n        setDb(filteredResults);\n        let workingMonth = (monthList[new Date().getMonth()])\n        setMonthState(workingMonth);\n        setIsLoading(false);\n    };\n\n    \n\n\n    // Calendar Logic --------------------------------\n    var now = new Date();\n\n    function daysInThisMonth() {\n        \n        return new Date(now.getFullYear(), now.getMonth()+1, 0).getDate();\n      }\n\n    const daysInCurrentMonth = daysInThisMonth();\n    const currentYear = new Date().getFullYear();\n    let currentMonth = new Date().getMonth()+1;\n    if (currentMonth < 10)\n      currentMonth = `0${currentMonth}`;\n    else\n      currentMonth = `${currentMonth}`;\n    let monthDaysArray = [];\n    for (let i=1; i<=daysInCurrentMonth; i++) {\n        monthDaysArray.push(i);\n    }\n    let monthIndexDayArray = [];\n    for (let i=1; i<=daysInCurrentMonth; i++) {\n        var newI;\n        if (i < 10) {\n            newI = `0${i}`;\n        }\n        else\n        {\n            newI = `${i}`;\n        }\n        \n        monthIndexDayArray.push(`${currentYear}-${currentMonth}-${newI}`);\n    }\n\n    let isWeekEnd = [];\n    for (let i=1; i<=daysInCurrentMonth; i++)\n    {\n        let day = new Date(now.getFullYear(), now.getMonth(), i).getDay();\n        day === 6 || day === 0 ? isWeekEnd.push(\"rgb(75, 219, 130)\") : isWeekEnd.push(0);\n    }\n\n\n    const [users, setUsers] = useState([]);\n    const [db, setDb] = useState([]);\n\n    // navigation.addListener('didFocus', () => {\n    //         generateMonth();\n    //   });\n\n    // Generate month\n    async function generateMonth() {\n\n        console.log(\"calling generate month\");\n\n        let date = new Date();\n        let team = userContext.team;\n        let month = date.getMonth()\n        let year = date.getFullYear();\n        let token = \"Bearer \";\n\n        try {\n            let localToken = await getToken('token');\n            token += localToken;\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': token\n              }\n\n            const response = await axios.post(`${backendUrl}/api/v1/users/generateMonth`, {\n                team,\n                month,\n                year\n            }, { headers: headers });\n\n            if (response.status === 200) //\n            {\n                console.log(\"calling user reload from generate month\")\n                usersReload();\n            }\n                \n        } catch (e) {\n            console.log(e.message)\n        }\n\n        \n    }\n\n    useEffect(() => {\n        console.log(\"use effect\");\n            generateMonth();\n        \n    }, [])\n\n    // End of calendar logic ----------------------------------------\n\n\n    // Logout function\n\n    const setToken = async (value) => {\n        try {\n          await AsyncStorage.setItem('token', value)\n        } catch (e) {\n          console.log(e.message);\n        }\n    }\n\n    const getToken = async (value) => {\n        try {\n            const returnValue = await AsyncStorage.getItem(value);\n            return returnValue;\n        } catch (e) {\n            console.log(\"error when returning getToken, message : \", e.message);\n        }\n    }\n\n    async function logout() {\n        await setToken('logOut');\n\n        setUserContext({\n            loggedIn: false,\n            isAdmin: false,\n            firstName: \"\",\n            lastName: \"\",\n            email: \"\",\n            team: \"\", \n            id: \"\"\n        });\n    }\n\n    \n\n    async function setNewShift(option: String, currentRequestor: String, currentIndexDay: String) {\n        let token = \"Bearer \";\n        try {\n            let localToken = getToken('token');\n            token += localToken;\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': token\n              }\n\n            const response = await axios.post(`${backendUrl}/api/v1/users/requestChangeShift`, {\n                requestor: currentRequestor,\n                newShift: option,\n                indexDay: currentIndexDay\n            }, { headers: headers });\n\n            if (response.status === 200)\n            {\n                usersReload();\n            }\n                \n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n\n    async function changePassword(passwordCurrent: string, password: string, passwordConfirm: string)\n    {\n        if (password !== passwordConfirm)\n        {\n            setPasswordErrorMessage(\"Password and confirm don't match moron !\");\n            return;\n        }\n\n        if (password === passwordCurrent)\n        {\n            setPasswordErrorMessage(\"Can't change for the same password stupid !\");\n            return;\n        }\n\n        let token = \"Bearer \";\n        try {\n            let localToken = getToken('token');\n            token += localToken;\n            const headers = {\n                'Content-Type': 'application/json',\n                'Authorization': token\n              }\n\n            const response = await axios.put(`${backendUrl}/api/v1/users/changePassword`, {\n                passwordCurrent: newPasswordValues.passwordCurrent,\n                password: newPasswordValues.password,\n                passwordConfirm: newPasswordValues.passwordConfirm,\n                email: userContext.email\n            });\n\n            if (response.status === 200)\n            {\n                setPasswordErrorMessage(\"Password Changed\");\n                setTimeout(() => {\n                    setPasswordErrorMessage(\"\");\n                }, 500);\n            }\n\n            else {\n                setPasswordErrorMessage(\"Something's wrong...\");\n            }\n                \n        } catch (e) {\n            console.log(e.message)\n        }\n    }\n\n    // For changing shift\n\n    const [userChangingShift, setUserChangingShift] = useState(\"\");\n    const [shiftChanging, setShiftChanging] = useState(\"\");\n    const [dayChanging, setDayChanging] = useState(\"\");\n    const [userFirstName, setUserFirstName] = useState(\"\");\n\n    const SideView = () => {\n\n        return (<View style={{\n            left: 0,\n            top: 0,\n            height: \"100%\",\n            width: 200,\n            position: \"absolute\",\n            backgroundColor: \"rgb(110, 116, 170)\",\n            paddingTop: 50,\n            paddingLeft: 15,\n            zIndex: 1000,\n            elevation: 50\n        }}>\n            <Text style={{fontSize: 25, fontWeight: \"bold\"}}>Changing shift</Text>\n            <Text style={{fontSize: 20, marginTop: 15}}>For user : </Text>\n            <Text style={{fontSize: 20, marginTop: 3, marginBottom: 15}}>{userFirstName}</Text>\n\n            <View>\n                {\n                    planningOptions.map((shiftElement, idx) => {\n                        return (\n                        <Pressable key={idx} onPress={() => {\n                            setShiftChanging(shiftElement);\n                            setNewShift(shiftElement, userChangingShift, dayChanging);\n                            setShowSideBar(false);\n                            usersReload();\n\n                        }}>\n                            <Text style={{\n                                fontSize: 25,\n                                borderWidth: 1,\n                                borderRadius: 5,\n                                overflow: \"hidden\",\n                                width: 50,\n                                textAlign: \"center\",\n                                marginBottom: 3,\n                                backgroundColor: cssColors[shiftElement] !== \"\" ? cssColors[shiftElement] : \"rgb(235, 232, 231)\"\n                            }}>{shiftElement}</Text>\n                        </Pressable>\n                        )\n                    })\n                }\n            </View>\n            <Pressable onPress={() => setShowSideBar(false)}>\n                <Text style={{fontSize: 25, fontWeight: \"bold\", marginTop: 20}}>Close</Text>\n            </Pressable>\n        </View>)\n    }\n\n    return (\n        \n        <SafeAreaView style={styles.globalContainer}>\n\n        {\n            (isLoading===true) ? <ActivityIndicator size=\"large\" color=\"rgb(110, 116, 170)\" style={{paddingTop: 150}}/> : \n              \n            <View style={{flex:1}}>\n                {/* Header */}\n                <View style={styles.header}>\n                    <Pressable \n                        style={{alignSelf: \"flex-end\", marginRight: 15}}\n                        onPress={() => {navigation.navigate(\"Settings\")}}\n                        >\n                        <Image source={require('./../assets/icons/settings.png')} style={styles.svg}/>\n                    </Pressable>\n                </View>\n \n                {/* Month title */}\n                <View style={{\n                    flexDirection: \"row\",\n                    justifyContent: \"center\",\n                    height: 50,\n                    alignItems: \"center\",\n                    marginTop: 15,\n                    marginBottom: 15,\n                }}>\n                    <Image source={require('./../assets/icons/left-arrow.png')} style={{...styles.svg, marginRight: 15}}/>\n                    <Text style={{fontSize: 30, fontWeight: \"bold\"}}>{monthState}</Text>\n                    <Image source={require('./../assets/icons/right-arrow.png')} style={{...styles.svg, marginLeft: 15}}/>\n\n                </View>\n\n                {/* Main Planning Box */}\n                <View style ={{\n                    // flex: 1,\n                    paddingTop: 20,\n                    paddingBottom: 20,\n                    paddingLeft: 10,\n                    paddingRight: 10,\n                    backgroundColor: \"rgb(235, 232, 231)\",\n\n                    shadowColor: \"#000\",\n                    shadowOffset: {\n                        width: 0,\n                        height: 2,\n                    },\n                    shadowOpacity: 0.25,\n                    shadowRadius: 3.84,\n                    \n                    elevation: 5,\n                }}>\n                <ScrollView horizontal={true} style={{\n                    shadowColor: \"#000\",\n                    shadowOffset: {\n                        width: 0,\n                        height: 5,\n                    },\n                    shadowOpacity: 0.34,\n                    shadowRadius: 6.27,\n                    \n                    elevation: 10,\n                }}>\n                    <View>\n                        <Text style={{...styles.user, opacity: 0}}>\" \"</Text>\n                        {\n                            users.map((el, idx) => {\n                                // Returning users list for the given team\n                                return(<Text key={idx} style={styles.user}>{el.firstName} {el.lastName.slice(0, 1)}</Text>)\n                            })\n                        }\n                    </View>\n                    <View style={{flexDirection: \"row\"}}>\n                    {\n                        monthIndexDayArray.map((day, idx) => {\n                            return (\n                            // Planning Box\n                                <View key={idx}>\n                                    <Text style={{backgroundColor: isWeekEnd[idx], ...styles.case}}>{day.substring(8, 10)}</Text>\n                                    {\n                                        db.map(user =>\n                                            user.shifts.map((shft, shftIdx)=> \n                                                shft.indexDay === day ?\n                                                <Pressable key={shftIdx} onPress={() => {\n                                                    if (userContext.isAdmin === true )\n                                                    {\n                                                    setUserChangingShift(user.email);\n                                                    setUserFirstName(user.firstName);\n                                                    setDayChanging(shft.indexDay);\n                                                    setShowSideBar(true);\n                                                    }\n                                                }}>\n                                                    <Text style={{...styles.case, backgroundColor: cssColors[shft.shift] !== \"\" ? cssColors[shft.shift] : null}}>{shft.shift}</Text>\n                                                </Pressable>\n                                                : null\n                                            ))\n                                    }\n                                </View>)\n                        })\n                    }\n                    </View>\n                </ScrollView>\n                </View>\n\n                {/* Side pop up for changing shift */}\n                {\n                    showSideBar ? <SideView /> : null\n                }\n                \n                \n                \n            </View>\n\n        }\n            \n        </SafeAreaView>\n    )\n}\n\nexport default PlanningScreen\n\nconst styles = StyleSheet.create({\n    globalContainer: {\n        flex: 1,\n        backgroundColor: \"rgb(235, 232, 231)\",\n    },\n    header: {\n        display: \"flex\",\n        height: 65,\n        backgroundColor: \"rgb(235, 232, 231)\",\n        justifyContent: \"center\"\n    },\n    headerTitle: {\n        fontSize: 30,\n        fontWeight: \"bold\",\n        color: \"rgb(110, 116, 170)\",\n        // marginTop: 50,\n        // marginBottom: 15,\n        alignSelf: \"center\"\n    },\n    headerSubtitle: {\n        fontSize: 17,\n        fontWeight: \"bold\",\n        color: \"rgb(235, 232, 231)\",\n        marginBottom: 10,\n        alignSelf: \"center\"\n\n    },\n    headerImage: {\n        flex: 1,\n        resizeMode: \"center\",\n        justifyContent: 'center',\n        opacity: 0.7\n    },\n    svg: {\n        height: 30,\n        width: 30\n    },\n    inputsContainer: {\n        flex: 1,\n        justifyContent: \"space-between\",\n        marginTop: 50,\n        marginBottom: 50,\n    },\n    viewHolder: {\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    preTextInput: {\n        fontSize: 17,\n        paddingLeft: 20,\n        alignSelf: \"flex-start\",\n    },\n    button: {\n        backgroundColor: \"rgb(238, 247, 255)\",\n        width: 150,\n        height: 45,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        borderRadius: 10,\n        marginTop: 10,\n    },\n    buttonText: {\n        fontSize: 20\n    },\n    textInput: {\n        display: \"flex\",\n        backgroundColor: \"white\",\n        width: \"95%\",\n        marginTop: 5,\n        borderRadius: 5,\n        fontSize: 20\n    },\n    user: {\n        fontSize: 20,\n        height: 30,\n        // backgroundColor: \"rgb(110, 116, 170)\",\n        borderRadius: 5,\n        marginBottom: 2,\n        // alignSelf: \"flex-end\",\n        justifyContent: \"center\",\n        overflow: \"hidden\", // Fixing border radius not working\n        borderWidth: 1,\n        textAlign: \"right\",\n        paddingRight: 5\n\n    },\n    case: {\n        fontSize: 20,\n        marginLeft: 5,\n        marginBottom: 2,\n        alignSelf: \"center\",\n        justifyContent: \"center\",\n        borderRadius: 5,\n        width: 37,\n        textAlign: \"center\",\n        height: 30,\n        overflow: \"hidden\" // Fixing border radius not working\n    }\n})\n"]},"metadata":{},"sourceType":"module"}